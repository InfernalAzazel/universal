import $ from"./index.4cafb1c2.js";import{d as j,b as A,r as f,Z as I,Q as E,R as J,m as Q,A as i,h as d,z as p,w as n,S as Z,n as r,l as m,j as s,B as G,t as v,H as k,k as Y,v as o,U as K}from"./index.90662b97.js";import{u as W}from"./crud.6c5008af.js";const ne=j({__name:"index",setup(X){const{t:e}=A();f([{value:!0,label:"\u662F"},{value:!1,label:"\u5426"}]);const x=f([]);for(const[l,a]of Object.entries(I))x.value.push({value:l,label:l});const D=E({label:e("crud.label"),addText:e("crud.addText"),detailText:e("crud.detailText"),editText:e("crud.editText"),searchText:e("crud.searchText"),searchResetText:e("crud.searchResetText"),submitText:e("crud.submitText"),resetText:e("crud.resetText"),detail:!0,edit:!0,del:!1,searchReset:!0,fixed:"right",width:"200"}),y=J([{label:e("system.menu.id"),prop:"id",component:"el-input",search:!0,detail:!0,width:"200"},{label:e("system.menu.title_zh_cn"),prop:"title_zh_cn",component:"el-input",add:!0,edit:!0,search:!0,detail:!0,width:"200"},{label:e("system.menu.title_en_us"),prop:"title_en_us",component:"el-input",add:!0,edit:!0,search:!0,detail:!0,width:"200"},{label:e("system.menu.path"),prop:"path",component:"el-input",add:!0,edit:!0,search:!0,detail:!0,width:"500"},{label:e("system.menu.order"),prop:"order",component:"el-input-number",add:!0,edit:!0,detail:!0,width:"200"},{label:e("system.menu.key"),prop:"key",component:"el-input-number",props:{min:"0",max:"10000"},add:!0,edit:!0,search:!0,detail:!0,width:"200"},{label:e("system.menu.father"),prop:"father",component:"el-input-number",props:{min:"0",max:"10000"},search:!0,add:!0,edit:!0,detail:!0,width:"200"},{label:e("system.menu.component"),prop:"component",component:"el-input",search:!0,add:!0,edit:!0,detail:!0,width:"200"},{label:e("system.menu.icon"),prop:"icon",component:Q($),props:{data:x.value},search:!0,add:!0,edit:!0,detail:!0,width:"200"},{label:e("el-date-picker.create_at"),prop:"create_at",component:"el-date-picker",props:{type:"datetimerange",rangeSeparator:"-",startPlaceholder:"start",endPlaceholder:"end",format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DDTHH:mm:ss"},search:!0,detail:!0,width:"200"},{label:e("el-date-picker.update_at"),prop:"update_at",component:"el-date-picker",props:{type:"datetimerange",rangeSeparator:"-",startPlaceholder:"start",endPlaceholder:"end",format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DDTHH:mm:ss"},search:!0,detail:!0,width:"200"}]),c=f(JSON.parse(JSON.stringify(y))),z={title_zh_cn:{required:!0,message:e("rules.menu.title_zh_cn"),trigger:"blur"},title_en_us:{required:!0,message:e("rules.menu.title_en_us"),trigger:"blur"},path:{required:!0,message:e("rules.menu.path"),trigger:"blur"},order:{required:!0,message:e("rules.menu.order"),trigger:"blur"},key:{required:!0,message:e("rules.menu.key"),trigger:"blur"},father:{required:!0,message:e("rules.menu.father"),trigger:"blur"},component:{required:!0,message:e("rules.menu.component"),trigger:"blur"},icon:{required:!0,message:e("rules.menu.icon"),trigger:"blur"}},{form:_,serachForm:h,detail:S,loadList:w,currentPage:g,pageSize:b,list:C,total:V,isFetching:M,beforeOpen:R,submit:q,search:P,deleteRow:U}=W(i.menuList,i.menuAdd,i.menuEdit,i.menuDelete,!0);return(l,a)=>{const F=o("pro-column-setting"),H=o("el-button"),N=o("el-popconfirm"),T=o("el-icon"),B=o("pro-crud"),L=o("pro-card"),O=K("loading");return d(),p(L,null,{default:n(()=>[Z((d(),p(B,{modelValue:r(_),"onUpdate:modelValue":a[1]||(a[1]=t=>m(_)?_.value=t:null),search:r(h),"onUpdate:search":a[2]||(a[2]=t=>m(h)?h.value=t:null),"current-page":r(g),"onUpdate:current-page":a[3]||(a[3]=t=>m(g)?g.value=t:null),"page-size":r(b),"onUpdate:page-size":a[4]||(a[4]=t=>m(b)?b.value=t:null),columns:r(y),menu:r(D),data:r(C),detail:r(S),"before-open":r(R),onSearch:r(P),onSubmit:r(q),"row-key":"key","table-columns":c.value,total:r(V),rules:z,onLoad:r(w),onSearchReset:r(w),layout:"total, ->, jumper, prev, pager, next, sizes",border:"",stripe:"","show-overflow-tooltip":""},{action:n(()=>[s(F,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=t=>c.value=t)},null,8,["modelValue"])]),menu:n(({row:t,size:u})=>[s(N,{title:l.$t("crud.isDelText"),onConfirm:ee=>r(U)(t)},{reference:n(()=>[s(H,{size:u,type:"danger",link:""},{default:n(()=>[G(v(l.$t("crud.delText")),1)]),_:2},1032,["size"])]),_:2},1032,["title","onConfirm"])]),"table-icon":n(({row:t,size:u})=>[s(T,{size:u},{default:n(()=>[(d(),p(k(t.icon)))]),_:2},1032,["size"]),Y("span",null,v(t.icon),1)]),"detail-icon":n(({size:t,item:u})=>[s(T,{size:t},{default:n(()=>[(d(),p(k(u.icon)))]),_:2},1032,["size"]),Y("span",null,v(u.icon),1)]),_:1},8,["modelValue","search","current-page","page-size","columns","menu","data","detail","before-open","onSearch","onSubmit","table-columns","total","onLoad","onSearchReset"])),[[O,r(M)]])]),_:1})}}});export{ne as default};
